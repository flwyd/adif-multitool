# Tests Cabrillo conversion of ARRL/CQ VHF spec from
# https://www.qrz.lt/ly1vp/ataskaitu_formatai/cabrillo/qso-template.html

env MY_EXCHANGE=grid:MY_GRIDSQUARE
env THEIR_EXCHANGE=grid:GRIDSQUARE

# ARRL VHF: conversion from Cabrillo to Cabrillo
exec adifmt cat --output cabrillo --cabrillo-my-exchange $MY_EXCHANGE --cabrillo-their-exchange $THEIR_EXCHANGE vhf-example.cabrillo
cmp stdout vhf-example-formatted.cabrillo
! stderr .

# ARRL VHF: conversion from Cabrillo to TSV
exec adifmt cat --output tsv --cabrillo-my-exchange $MY_EXCHANGE --cabrillo-their-exchange $THEIR_EXCHANGE vhf-example.cabrillo
cmp stdout vhf-example.tsv
! stderr .

-- vhf-example.cabrillo --
START-OF-LOG: 3.0
CONTEST: ARRL-VHF-SEP
CALLSIGN: NJ2L
CATEGORY-OPERATOR: SINGLE-OP 
CATEGORY-POWER: HIGH
CATEGORY-ASSISTED: NON-ASSISTED
LOCATION: WNY
CLAIMED-SCORE: 20805
CLUB: Rochester VHF Group
NAME: Rus Healy
ADDRESS: 5960 Canadice Hill Road
ADDRESS-CITY: Springwater
ADDRESS-STATE-PROVINCE: NY
ADDRESS-POSTALCODE: 14560
SOAPBOX: What a great contest!
QSO:    50 PH 1997-09-13 1804 NJ2L              FN12fr KB2DMK            FN12
QSO:   144 PH 1997-09-13 2014 NJ2L              FN12fr VE3VRQ            FN13
QSO:   144 PH 1997-09-13 2025 NJ2L              FN12fr NT2W              FN24
QSO:    50 PH 1997-09-13 2027 NJ2L              FN12fr VE3FHU            FN25
QSO:   144 PH 1997-09-13 2027 NJ2L              FN12fr VE3FHU            FN25
QSO:   222 PH 1997-09-13 2029 NJ2L              FN12fr VE3FHU            FN25
QSO:   144 PH 1997-09-13 2036 NJ2L              FN12fr KB3PW             FN13
QSO:    50 PH 1997-09-13 2037 NJ2L              FN12fr KB3PW             FN13
QSO:   222 PH 1997-09-13 2038 NJ2L              FN12fr KB3PW             FN13
QSO:   432 PH 1997-09-13 2039 NJ2L              FN12fr KB3PW             FN13
QSO:   144 PH 1997-09-13 2048 NJ2L              FN12fr WA2AEY            FN23
QSO:    50 PH 1997-09-13 2049 NJ2L              FN12fr WA2AEY            FN23
QSO:   432 PH 1997-09-13 2050 NJ2L              FN12fr WA2AEY            FN23
QSO:   144 PH 1997-09-13 2051 NJ2L              FN12fr W2FE              FN13
QSO:   144 PH 1997-09-13 2051 NJ2L              FN12fr K2OEQ             FN13
QSO:    50 PH 1997-09-13 2053 NJ2L              FN12fr K2OEQ             FN13
QSO:   144 PH 1997-09-13 2059 NJ2L              FN12fr KA2CKI/R          FN24
QSO:   902 PH 1997-09-13 2101 NJ2L              FN12fr K2OEQ             FN13
QSO:    50 PH 1997-09-13 2107 NJ2L              FN12fr KA2CKI/R          FN24
QSO:   222 PH 1997-09-13 2108 NJ2L              FN12fr KA2CKI/R          FN24
QSO:   432 PH 1997-09-13 2110 NJ2L              FN12fr KA2CKI/R          FN24
QSO:   902 CW 1997-09-13 2115 NJ2L              FN12fr KA2CKI/R          FN24
QSO:  1.2G CW 1997-09-13 2117 NJ2L              FN12fr KA2CKI/R          FN24
QSO:   144 PH 1997-09-13 2140 NJ2L              FN12fr VE2QQ/3           FN13
END-OF-LOG:
-- vhf-example-formatted.cabrillo --
START-OF-LOG: 3.0
X-INSTRUCTIONS: Fill out headers following contest instructions
X-INSTRUCTIONS: Delete any unnecessary headers
X-INSTRUCTIONS: Double-check QSO lines, keeping columns in order
X-INSTRUCTIONS: Report bugs at https://github.com/flwyd/adif-multitool
CREATED-BY: ADIF Multitool (devel)
SOAPBOX: What a great contest!
CONTEST: ARRL-VHF-SEP
CALLSIGN: NJ2L
CLUB: Rochester VHF Group
OPERATORS:
NAME: Rus Healy
EMAIL:
ADDRESS: 5960 Canadice Hill Road
ADDRESS-CITY: Springwater
ADDRESS-STATE-PROVINCE: NY
ADDRESS-POSTALCODE: 14560
ADDRESS-COUNTRY:
GRID-LOCATOR: FN12fr
LOCATION: WNY
CLAIMED-SCORE: 20805
OFFTIME:
CATEGORY-ASSISTED: NON-ASSISTED
CATEGORY-BAND: ALL
CATEGORY-MODE: MIXED
CATEGORY-OPERATOR: SINGLE-OP
CATEGORY-OVERLAY:
CATEGORY-POWER: HIGH
CATEGORY-STATION:
CATEGORY-TIME:
CATEGORY-TRANSMITTER:
X-INSTRUCTIONS: See contest rules for expected category values
X-Q:                         --info sent --info rcvd--
X-Q: freq mo date       time call grid   call     grid
QSO: 50   PH 1997-09-13 1804 NJ2L FN12fr KB2DMK   FN12
QSO: 144  PH 1997-09-13 2014 NJ2L FN12fr VE3VRQ   FN13
QSO: 144  PH 1997-09-13 2025 NJ2L FN12fr NT2W     FN24
QSO: 50   PH 1997-09-13 2027 NJ2L FN12fr VE3FHU   FN25
QSO: 144  PH 1997-09-13 2027 NJ2L FN12fr VE3FHU   FN25
QSO: 222  PH 1997-09-13 2029 NJ2L FN12fr VE3FHU   FN25
QSO: 144  PH 1997-09-13 2036 NJ2L FN12fr KB3PW    FN13
QSO: 50   PH 1997-09-13 2037 NJ2L FN12fr KB3PW    FN13
QSO: 222  PH 1997-09-13 2038 NJ2L FN12fr KB3PW    FN13
QSO: 432  PH 1997-09-13 2039 NJ2L FN12fr KB3PW    FN13
QSO: 144  PH 1997-09-13 2048 NJ2L FN12fr WA2AEY   FN23
QSO: 50   PH 1997-09-13 2049 NJ2L FN12fr WA2AEY   FN23
QSO: 432  PH 1997-09-13 2050 NJ2L FN12fr WA2AEY   FN23
QSO: 144  PH 1997-09-13 2051 NJ2L FN12fr W2FE     FN13
QSO: 144  PH 1997-09-13 2051 NJ2L FN12fr K2OEQ    FN13
QSO: 50   PH 1997-09-13 2053 NJ2L FN12fr K2OEQ    FN13
QSO: 144  PH 1997-09-13 2059 NJ2L FN12fr KA2CKI/R FN24
QSO: 902  PH 1997-09-13 2101 NJ2L FN12fr K2OEQ    FN13
QSO: 50   PH 1997-09-13 2107 NJ2L FN12fr KA2CKI/R FN24
QSO: 222  PH 1997-09-13 2108 NJ2L FN12fr KA2CKI/R FN24
QSO: 432  PH 1997-09-13 2110 NJ2L FN12fr KA2CKI/R FN24
QSO: 902  CW 1997-09-13 2115 NJ2L FN12fr KA2CKI/R FN24
QSO: 1.2G CW 1997-09-13 2117 NJ2L FN12fr KA2CKI/R FN24
QSO: 144  PH 1997-09-13 2140 NJ2L FN12fr VE2QQ/3  FN13
END-OF-LOG:
-- vhf-example.tsv --
BAND	MODE	QSO_DATE	TIME_ON	STATION_CALLSIGN	MY_GRIDSQUARE	CALL	GRIDSQUARE	CONTEST_ID
6m	SSB	19970913	1804	NJ2L	FN12fr	KB2DMK	FN12	ARRL-VHF-SEP
2m	SSB	19970913	2014	NJ2L	FN12fr	VE3VRQ	FN13	ARRL-VHF-SEP
2m	SSB	19970913	2025	NJ2L	FN12fr	NT2W	FN24	ARRL-VHF-SEP
6m	SSB	19970913	2027	NJ2L	FN12fr	VE3FHU	FN25	ARRL-VHF-SEP
2m	SSB	19970913	2027	NJ2L	FN12fr	VE3FHU	FN25	ARRL-VHF-SEP
1.25m	SSB	19970913	2029	NJ2L	FN12fr	VE3FHU	FN25	ARRL-VHF-SEP
2m	SSB	19970913	2036	NJ2L	FN12fr	KB3PW	FN13	ARRL-VHF-SEP
6m	SSB	19970913	2037	NJ2L	FN12fr	KB3PW	FN13	ARRL-VHF-SEP
1.25m	SSB	19970913	2038	NJ2L	FN12fr	KB3PW	FN13	ARRL-VHF-SEP
70cm	SSB	19970913	2039	NJ2L	FN12fr	KB3PW	FN13	ARRL-VHF-SEP
2m	SSB	19970913	2048	NJ2L	FN12fr	WA2AEY	FN23	ARRL-VHF-SEP
6m	SSB	19970913	2049	NJ2L	FN12fr	WA2AEY	FN23	ARRL-VHF-SEP
70cm	SSB	19970913	2050	NJ2L	FN12fr	WA2AEY	FN23	ARRL-VHF-SEP
2m	SSB	19970913	2051	NJ2L	FN12fr	W2FE	FN13	ARRL-VHF-SEP
2m	SSB	19970913	2051	NJ2L	FN12fr	K2OEQ	FN13	ARRL-VHF-SEP
6m	SSB	19970913	2053	NJ2L	FN12fr	K2OEQ	FN13	ARRL-VHF-SEP
2m	SSB	19970913	2059	NJ2L	FN12fr	KA2CKI/R	FN24	ARRL-VHF-SEP
33cm	SSB	19970913	2101	NJ2L	FN12fr	K2OEQ	FN13	ARRL-VHF-SEP
6m	SSB	19970913	2107	NJ2L	FN12fr	KA2CKI/R	FN24	ARRL-VHF-SEP
1.25m	SSB	19970913	2108	NJ2L	FN12fr	KA2CKI/R	FN24	ARRL-VHF-SEP
70cm	SSB	19970913	2110	NJ2L	FN12fr	KA2CKI/R	FN24	ARRL-VHF-SEP
33cm	CW	19970913	2115	NJ2L	FN12fr	KA2CKI/R	FN24	ARRL-VHF-SEP
23cm	CW	19970913	2117	NJ2L	FN12fr	KA2CKI/R	FN24	ARRL-VHF-SEP
2m	SSB	19970913	2140	NJ2L	FN12fr	VE2QQ/3	FN13	ARRL-VHF-SEP
